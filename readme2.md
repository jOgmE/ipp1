###    Documentation of Project Implementation for IPP 2019/2020
###    Name and surname: Norbert PÃ³cs
###    Login: xpocsn00

##     Test script (test.php)
Script for test automation. The script can be used in three different modes: parser only, interpret only and both.

####    Implementation
The script is written using functional paradigm.

The first section consists of command line arguments parsing and checking their appropriateness saving the outcome to global variables. 

The second section constist of shorter functions what are implemented separately from and used by the main function `test`. These functions are: `run_par`, `run_inter` which are running the parser or the interpret using command line execution, then returning the output and the error code of the program, `check_difference` and `check_xml_difference` which are checking the difference between the given output files and the generated temporary files. `Diff` command is used to check the correctness of the return code of the tested program and the output of the  interpret and the command `jexamxml` is used for checking the correctness of the output generated by the parser.

The third section is the `test` function what runs all the tests in the given directory. The function uses recursiveness to traverse all the subdirectories, but ignoring dot directories. The main flow of the function is to go through the given directory. If an another directory is found, then calling itself recursively or it performs tests if a file with the `.src` ending is found. Every other file is ignored. After the test is run the return code is checked (which was saved to temporary file). The generated output (which was saved to temporary file too) is checked on success, but not on failure. Then global counters are raised based on the success or failure of the checks described above. The temporary files are deleted and a html table is generated and saved to a variable. The returned html table is included into the hardcoded html page defined in the fourth part.
